# VAMP Agent Backend - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# API Configuration
# ============================================================================

# Host to bind FastAPI server to
# 0.0.0.0 = Listen on all interfaces (use for production)
# 127.0.0.1 = Localhost only (development)
API_HOST=0.0.0.0

# Port for FastAPI server
API_PORT=8000

# Enable debug mode (set to False in production)
DEBUG=False

# ============================================================================
# Encryption Configuration
# ============================================================================

# Fernet encryption key for credential storage
# Generate a new key with:
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# 
# IMPORTANT: Keep this secret! Store in secure vault in production
VAMP_ENCRYPTION_KEY=your_generated_fernet_key_here

# ============================================================================
# Session Configuration
# ============================================================================

# Session timeout in seconds (how long cookies remain valid)
# 3600 = 1 hour
# 86400 = 24 hours
SESSION_TIMEOUT=3600

# ============================================================================
# Connector Configuration
# ============================================================================

# API request timeout in seconds
# Increase if platforms respond slowly
CONNECTOR_TIMEOUT=30

# Number of times to retry failed requests
MAX_RETRIES=3

# ============================================================================
# WebSocket Configuration
# ============================================================================

# Heartbeat interval for WebSocket connections (seconds)
# Keeps connection alive and detects disconnects
WS_HEARTBEAT_INTERVAL=30

# ============================================================================
# CORS Configuration
# ============================================================================

# Allowed origins for CORS requests
# Format: ["http://localhost:3000", "https://yourdomain.com", "chrome-extension://*"]
# For Chrome extension: use chrome-extension://* (extension ID doesn't need to match)
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000", "chrome-extension://*"]

# ============================================================================
# Database Configuration (Optional - for future use)
# ============================================================================

# DATABASE_URL=postgresql://user:password@localhost/vamp_db
# DATABASE_POOL_SIZE=10
# DATABASE_MAX_OVERFLOW=20

# ============================================================================
# Logging Configuration
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (optional)
# LOG_FILE=logs/vamp.log

# ============================================================================
# NWU Platform Configuration
# ============================================================================

# Nextcloud configuration
NEXTCLOUD_BASE_URL=https://nextcloud.nwu.ac.za
# NEXTCLOUD_USERNAME=your_username_here
# NEXTCLOUD_PASSWORD=your_password_here

# eFundi configuration
EFUNDI_BASE_URL=https://efundi.nwu.ac.za

# ============================================================================
# Platform API Keys (if needed for future OAuth integration)
# ============================================================================

# MICROSOFT_CLIENT_ID=your_client_id
# MICROSOFT_CLIENT_SECRET=your_client_secret
# GOOGLE_CLIENT_ID=your_client_id
# GOOGLE_CLIENT_SECRET=your_client_secret

# ============================================================================
# Feature Flags (Optional)
# ============================================================================

# Enable/disable specific features
ENABLE_NEXTCLOUD=True
ENABLE_EFUNDI=True
ENABLE_WEBSOCKET=True
ENABLE_ASYNC_SCRAPING=True

# ============================================================================
# Notes
# ============================================================================

# 1. ENCRYPTION KEY GENERATION:
#    Run once: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
#    Copy output to VAMP_ENCRYPTION_KEY
#
# 2. PRODUCTION DEPLOYMENT:
#    - Set DEBUG=False
#    - Use strong VAMP_ENCRYPTION_KEY
#    - Update CORS_ORIGINS with actual domain
#    - Use environment variables instead of .env file
#    - Set secure session timeout
#
# 3. DEVELOPMENT:
#    - DEBUG=True for detailed errors
#    - CONNECTOR_TIMEOUT can be lower
#    - Use localhost CORS origins
#
# 4. SECURITY:
#    - Never commit .env file to git
#    - Use .gitignore: echo ".env" >> .gitignore
#    - Rotate VAMP_ENCRYPTION_KEY periodically
#    - Store credentials in secure vault
